# 数据库设计

#### 数据库设计的步骤

##### 需求分析

- 需求收集与设计
- 分析与表达用户需求
  - 自顶向下
    - 数据流图
    - 数据字典
  - 自底向上

##### 概念结构设计

- 用户需求抽象为信息模型
- 概念模型 E-R图
- E-R图合并冲突
  - 属性冲突 ：属性域冲突 属性取值冲突
  - 命名冲突：同名异义，异名同义
  - 结构冲突：1. 同对象在不同视图有不同抽象 2. 同一实体在不同视图中属性组成不同 3.相同实体间联系在不同视图中呈现不同类型

##### 逻辑结构设计

- 设计逻辑结构 数据模型优化

- **E-R**图转化为DBMS所支持的**数据模型**

- 关系型逻辑结构设计的步骤：

  - 1) 将概念结构转换为关系模型

  - 2) 优化模型

  - 3) 设计适合DBMS的子模式

- 转化规则

  ```c
  (1)一个实体型转换为一个关系模式。
  (2)一个1：1联系可转换为一个独立的关系模式，也可与任一端对应的关系模式合并。
  (3)一个1：n联系可转换为一个独立的关系模式，也可与n端对应的关系模式合并。
  (4)一个m: n联系转换为一个关系模式。
  (5)三个或三个以上实体间的多元联系可转换为一个关系模式。
  (6) 相同码的关系模式可合并。
  (7)多值属性、复合属性、派生属性的处理
      复合属性：将每个子属性形成一个单独的属性，去掉复合属性
      多值属性：为多值属性创建一个新的关系模式，由实体主码和多值属性构成
      派生属性：直接去掉
  ```

##### 数据库物理设计

- 物理结构 评价设计 性能预测
- 索引
- 聚簇

##### 数据库实施

- 物理实现 试运行

##### 数据库运行与维护